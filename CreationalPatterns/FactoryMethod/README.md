## Factory Method Design Pattern

## [Implementation](./Implementation/AnimalFactory.cs) And [How To Use](./UseFactoryMethod.cs)


### **`GOF:`**

تعریف یک اینترفیس برای ساخت ابجکت

به کلاس های زیر مجموعه اجازه میدهید که تصمیم بگیرند از چه کلاسی نمونه بسازند

این متود به کلاس ها اجازه میدهد که نمونه سازی را به کلاس های زیرین واگذار کنید

##

### **`Concept:`**

با یک کلاسه

`abstract`

شروع میکنید که اجازه میدهد ساختار اولیه اپلیکیشن را تعریف کند

و کلاس هایی که از این کلاس اولیه ارث بری میکنند مسعولیت نمونه سازی را بر عهده دارند

##

**تصور کنید:**

در یک رستوران

با توجه میل مشتری

اشپز میتونه موارد مختلفی به غذا اضافه یا کم کنه

##

**سناریوی کامپیوتری رو درنظر بگیرید:**

ممکنه در یک اپلیکیشن نیاز به دیتا بیس های مختلفی داشته باشید

ممکنه یک یوزر با اوراکل کار کنه و یک یوزر با ماریا

چیکار میکنید ؟ لابد با یک سوییچ کیس گنده مشگل رو برطرف میکنید؟

```csharp 

switch (dbType)
{
	case MariaDb : 
	    var newMaria = new MariaDbConnection();
	break;

	case OracleDb : 
	    var newOracle = new OracleDbConnection();
	break;
	//....etc
}
```

شاید فکر کنید که مشگل رو حل کردید

ولی فقط حفظ و نگه داری کد رو سخت تر کردید 
و همچنین مشگلی رو هم برطرف نکردید

چرا؟ بنظرتون چه اتفاقی میوفته اگه بخواید یک دیتابیس جدید اضافه کنید؟

یا یک روز تصمیم بگیرید که دیگر از یک دیتابیس پشتیبانی نمیکنید

باید دوباره کله کدهاتون رو برسی کنید 

تک تک شروط و کلاس هارو ریفکتور کنید تا این کار رو انجام بدید

فاجعست مگه نه ؟

با این پترن میتونید مشگل رو خیلی زیبا حل کنید.


# FAQ

**> استفاده از این پترن چه سودی دارد ؟**

- شما کد هایی که متفاوت هستند رو از کد هایی که متفاوت نیستند جدا میکنید
- کد های شما کمتر به هم وابسته هستند به عبارتی چسبندگی کد هاتون رو کمتر میکنید پس میتونید به راحتی کلاس های جدید اضافه کنید بدونه اینکه ساختار فعلی رو تعقیر بدید یا حذف کنید
- :notebook: **Solid Principle [OCP]: "closed for modification but open for extension."**
     

##


**>سختی های استفاده از این پترن**

- اگر ابجکت های مختلف با تایپ های مختلفی دارید ممکنه روی پرفورمنس کلی سیستم تاثیر منفی داشته باشه.

##


**>`abstract factory?`**

اجباری بر ابسترکت بودنه کلاس فکتوری نیست

میتونید اون رو 

`abstract`

نکنید.

ولی قدرت واقعی این پترن تقریبا با همین کلید واژه معنا پیدا میکند.